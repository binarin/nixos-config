This is my personal infra:

- NixOS configurations
- Ansible for non-NixOS machines (but some data is being consumed from NixOS configurations)
- Terraform for creating non-NixOS machines

# Git

Before doing any changes, check that everything is committed. If not -
start a copy of yourself to analyze current uncommitted changes, and
do one or more commits, trying to group logically related changes.

# ToDo list

# NixOS

When new .nix file created, it should be immediately added to git
(even in empty state), as flakes only see committed or staged files
(but there is no reason to stage/commit changes after changes were
made to an existing file).

## Dendritic

This repo follows dendritic pattern: where all classes of modules live
in the same file (i.e. modules/flake-parts/something.nix instead of
modules/{home,nixos,shared}/something.nix).

Flake inputs are also defined in .nix modules, (`flake-file.inputs.XXX.url = `) and the final
flake.nix is generated by `nix run '.#write-flake'`.

The dendritic migration is currently work in progress, and modules in
both old and new style are present in the repo.

## Inventory

NixOS configuration is primary source of inventory, in inventory/ -
main parts are SSH public keys and IP allocation. Ideally, it should
be the only source of truth - but for now there are some IP addresses
hardcoded here and there.

# Ansible

# Terraform

# SSH security
